# -*- coding: utf-8 -*-
"""carla-rosa-tipos-de-testes-gabarito.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1FFgLZ69ZJN5fWCWfLqXJjqZygDGqNvUw

> # <b>PROGRAMA GERENCIADOR DE N√öMEROS</b>   
Exemplo de uma programa em <i>JavaScript</i> para realizar diferentes tipos de testes.  
Inclua uma nova c√©lula de c√≥digo clicando em <b>`+ C√≥digo`</b>, copie  o c√≥digo do teste  
e execute a c√©lula com o bot√£o ‚ñ∂Ô∏è, conforme as instru√ß√µes no <i>Google Classroom</i>.
"""

# Lista global que armazenar√° os n√∫meros adicionados
numbers = []

# Fun√ß√£o para adicionar um n√∫mero √† lista
def add_number(n):
    numbers.append(n)  # Adiciona o n√∫mero √† lista
    print(f"N√∫mero {n} adicionado. Lista atual: {numbers}")  # Exibe o n√∫mero adicionado e o estado atual da lista

# Fun√ß√£o para remover um n√∫mero da lista, se ele existir
def remove_number(n):
    if n in numbers:  # Verifica se o n√∫mero est√° na lista
        numbers.remove(n)  # Remove o n√∫mero
        print(f"N√∫mero {n} removido. Lista atual: {numbers}")  # Exibe confirma√ß√£o e estado da lista
    else:
        print(f"N√∫mero {n} n√£o encontrado na lista.")  # Informa que o n√∫mero n√£o est√° presente

# Fun√ß√£o para calcular a m√©dia dos n√∫meros na lista
def average():
    if not numbers:  # Verifica se a lista est√° vazia
        print("Lista vazia. M√©dia = 0")  # Mensagem informativa
        return 0  # Retorna 0 como m√©dia padr√£o
    media = sum(numbers) / len(numbers)  # Calcula a m√©dia
    print(f"M√©dia atual dos n√∫meros {numbers} = {media}")  # Exibe a m√©dia e os n√∫meros usados
    return media  # Retorna o valor da m√©dia

# üîç Exemplos de uso das fun√ß√µes

# Adiciona o n√∫mero 10 √† lista
add_number(10)     # Esperado: Lista atual: [10]

# Adiciona o n√∫mero 20 √† lista
add_number(20)     # Esperado: Lista atual: [10, 20]

# Adiciona o n√∫mero 30 √† lista
add_number(30)     # Esperado: Lista atual: [10, 20, 30]

# Adiciona o n√∫mero 30 √† lista
add_number(40)     # Esperado: Lista atual: [10, 20, 30, 40]

# Calcula a m√©dia dos n√∫meros atuais
average()          # Esperado: M√©dia = (10 + 20 + 30 + 40) / 4 = 25.0

# Remove o n√∫mero 10 da lista
remove_number(10)  # Esperado: Lista atual: [20, 30, 40]

# Calcula a nova m√©dia ap√≥s a remo√ß√£o
average()          # Esperado: M√©dia = (20 + 30 + 40) / 3 = 30.0

# Tenta remover o n√∫mero 50, que n√£o est√° na lista
remove_number(50)  # Esperado: Mensagem de n√∫mero n√£o encontrado

# üîÑ Teste Relacionado √† Mudan√ßa
remove_number(20)     # Remove o n√∫mero 20 da lista, se estiver presente
print(average())      # Calcula e exibe a nova m√©dia ap√≥s a remo√ß√£o

# üöÄ Teste N√£o-Funcional ‚Äì Desempenho
import time  # Importa o m√≥dulo para medir dura√ß√£o da execu√ß√£o e avaliar desempenho do c√≥digo

numbers = list(range(1_000)) # Preenche a lista com 1000 n√∫meros
start = time.time() # Marca o tempo inicial
average() # Executa a fun√ß√£o que queremos medir
end = time.time() # Marca o tempo final
execution_time = end - start # Calcula o tempo decorrido
print(f"Tempo de execu√ß√£o: {execution_time:.6f} segundos")

# üîê Teste N√£o-Funcional ‚Äì Seguran√ßa (simulado)
add_number("dez")     # Tenta adicionar uma string em vez de um n√∫mero (entrada inv√°lida)
print(numbers)        # Exibe o conte√∫do da lista ap√≥s a inser√ß√£o
print(average())      # Tenta calcular a m√©dia com um valor n√£o num√©rico na lista

# üß™ Teste n√£o-funcional ‚Äì usabilidade
numbers = []      # Lista vazia, simula aus√™ncia de entrada do usu√°rio
print(average())     # Tenta calcular a m√©dia e exibe a resposta do sistema

# üìà Teste de Carga
for i in range(1_000): # Repete 1000 vezes, de 0 at√© 999
    add_number(i) # Adiciona n√∫mero √† lista usando a fun√ß√£o range()

# Exibe quantos n√∫meros foram adicionados
print(f"Adicionados", len(numbers), "n√∫meros.")
# Esperado: Adicionados 1000 n√∫meros.

# üí• Teste de stress
numbers = []  # Garante que a lista esteja vazia
for _ in range(1_000):
    add_number(1)       # Adiciona o n√∫mero 1 √† lista
    remove_number(1)    # Remove o n√∫mero 1 da lista

print(numbers)          # Exibe o estado final da lista

# üß™ Teste de compatibilidade
import sys  # Importa m√≥dulo para acessar informa√ß√µes do sistema, como a vers√£o do Python

print("Vers√£o do Python:", sys.version)  # Exibe a vers√£o atual do interpretador
average()   # Executa a fun√ß√£o average(), que imprime o resultado

# üß† Teste Explorat√≥rio
add_number(None)     # Adiciona um valor nulo (None), que n√£o √© um n√∫mero
add_number(True)     # Adiciona um valor booleano (True), que √© interpretado como 1 em opera√ß√µes num√©ricas
add_number(3.14)     # Adiciona um n√∫mero de ponto flutuante ou decimal(v√°lido)

print(numbers)       # Exibe o conte√∫do atual da lista, inclui valores adicionados
print(average())     # Tenta calcular a m√©dia com os valores atuais, o que pode gerar erro de tipos forem incompat√≠veis

# üß™ Teste A/B

def average_a():
    # Vers√£o A: calcula a m√©dia sem arredondar
    return sum(numbers) / len(numbers)

def average_b():
    # Vers√£o B: calcula a m√©dia e arredonda para 2 casas decimais
    return round(sum(numbers) / len(numbers), 2)

# Lista de entrada com n√∫meros inteiros e um n√∫mero decimal
numbers = [10, 20, 30, 35.5]

# Exibe o resultado da vers√£o A (sem arredondamento)
print("A:", average_a())

# Exibe o resultado da vers√£o B (com arredondamento)
print("B:", average_b())